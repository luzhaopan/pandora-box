# SSR

SSR（Server-Side Rendering）也就是服务端渲染，也就是将Vue在客户端把标签渲染成HTML的工作放在服务端完成，然后再把html直接返回给客户端。

主要用于解决SEO(搜索引擎优化)和首屏加载速度问题。

## SSR实现原理

1. 服务端渲染的Vue组件和客户端渲染的Vue组件是不同的，服务端渲染的Vue组件需要包含`renderToString`方法，而客户端渲染的Vue组件需要包含`render`方法。

2. 服务端渲染的Vue组件需要使用`vue-server-renderer`包，而客户端渲染的Vue组件需要使用`vue`包。

3. 服务端渲染的Vue组件需要使用`vue-server-renderer`包的`createRenderer`方法创建一个渲染器，然后使用`renderToString`方法将Vue组件渲染成HTML字符串。

4. 客户端渲染的Vue组件需要使用`vue`包的`createApp`方法创建一个应用，然后使用`mount`方法将Vue组件挂载到DOM上。

5. 服务端渲染的Vue组件和客户端渲染的Vue组件都需要使用`vue-router`包来管理路由。

## SSR实现步骤

1. 安装`vue-server-renderer`包和`vue-router`包。

2. 创建一个Vue组件，并使用`vue-server-renderer`包的`createRenderer`方法创建一个渲染器。

3. 创建一个Vue应用，并使用`vue-router`包来管理路由。

4. 在服务端渲染的Vue组件中使用`renderToString`方法将Vue组件渲染成HTML字符串，并将HTML字符串返回给客户端。

5. 在客户端渲染的Vue组件中使用`vue`包的`createApp`方法创建一个应用，并使用`mount`方法将Vue组件挂载到DOM上。

## 使用场景

以下是一些使用 Vue.js 的服务端渲染（SSR）的场景：

1. **提高首屏加载速度**：在客户端渲染（CSR）中，浏览器需要下载和解析 JavaScript，然后才能渲染页面。这可能会导致首屏加载速度较慢。使用 SSR，服务器可以提前渲染页面，并将 HTML 发送到客户端，从而加快首屏加载速度。

2. **提高 SEO**：搜索引擎爬虫通常无法执行 JavaScript。因此，如果你的网站主要依赖 JavaScript 来渲染页面内容，搜索引擎可能无法正确索引你的网站。使用 SSR，服务器可以提前渲染页面，并将 HTML 发送到客户端，从而提高搜索引擎的索引效果。

3. **支持更复杂的交互**：在某些情况下，你可能需要使用一些复杂的交互，如实时聊天、在线游戏等。这些交互通常需要服务器端的支持。使用 SSR，服务器可以处理这些交互，并将结果发送到客户端。

4. **减少服务器负载**：使用 SSR，服务器可以提前渲染页面，并将 HTML 发送到客户端。这意味着客户端只需要下载和解析 HTML，而不需要下载和解析 JavaScript。这可以减少服务器的负载。


## 缺点

例如，它可能会增加服务器的负载，因为服务器需要渲染页面。此外，它也可能增加开发复杂度，因为你需要处理服务器和客户端之间的通信。

总的来说，如果你的网站需要提高首屏加载速度、提高 SEO、支持更复杂的交互或减少服务器负载，那么 Vue.js 的服务端渲染（SSR）可能是一个好的选择。



                        
