<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title>构建树结构</title>
</head>

<script>
    var arr = [
        { id: 11, parentId: 0 },
        { id: 2, parentId: 11 },
        { id: 3, parentId: 11 },
        { id: 4, parentId: 0 },
        { id: 55, parentId: 4 },
        { id: 6, parentId: 4 },
    ]
    function buildTree(arr) {
        const result = []
        const copyArr = [...arr]
        const map = {}
        copyArr.forEach((item) => {
            // debugger
            map[item.id] = item
        })
        for (const key in map) {
            const item = map[key]
            if (item.parentId === 0) {
                result.push(item)
            } else {
                const parent = map[item.parentId]
                debugger
                parent.children = parent?.children || []
                parent.children.push(item)
            }
        }
        //   return map
        return result
    }

    console.log(buildTree(arr));
</script>

</html>